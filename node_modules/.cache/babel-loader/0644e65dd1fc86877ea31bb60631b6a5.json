{"remainingRequest":"C:\\PluralsightProjects\\webpack-starter-master\\metal-calculator - routing\\node_modules\\thread-loader\\dist\\cjs.js!C:\\PluralsightProjects\\webpack-starter-master\\metal-calculator - routing\\node_modules\\babel-loader\\lib\\index.js!C:\\PluralsightProjects\\webpack-starter-master\\metal-calculator - routing\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\PluralsightProjects\\webpack-starter-master\\metal-calculator - routing\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\PluralsightProjects\\webpack-starter-master\\metal-calculator - routing\\src\\views\\metalcalculator.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\PluralsightProjects\\webpack-starter-master\\metal-calculator - routing\\src\\views\\metalcalculator.vue","mtime":1603211472115},{"path":"C:\\PluralsightProjects\\webpack-starter-master\\metal-calculator - routing\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\PluralsightProjects\\webpack-starter-master\\metal-calculator - routing\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\PluralsightProjects\\webpack-starter-master\\metal-calculator - routing\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\PluralsightProjects\\webpack-starter-master\\metal-calculator - routing\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\PluralsightProjects\\webpack-starter-master\\metal-calculator - routing\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _toConsumableArray from \"C:\\\\PluralsightProjects\\\\webpack-starter-master\\\\metal-calculator - routing\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/toConsumableArray\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from 'axios'; //import numbro from 'numbro';\n\nvar numbro = require('numbro');\n\nimport regression from 'regression';\nexport default {\n  name: 'metalCalculator',\n  data: function data() {\n    return {\n      formName: 'Calculator',\n      metals: {\n        gold: {\n          price: 0,\n          gramPrice: 0,\n          grams: 0,\n          selectedKarat: {\n            name: '24K',\n            value: 1\n          },\n          karats: [{\n            name: '24K',\n            value: 1\n          }, {\n            name: '22K',\n            value: 0.917\n          }, {\n            name: '18K',\n            value: 0.75\n          }, {\n            name: '14K',\n            value: 0.583\n          }, {\n            name: '10K',\n            value: 0.417\n          }, {\n            name: '8K',\n            value: 0.2\n          }],\n          isActive: true,\n          timer: null,\n          data: []\n        },\n        silver: {\n          price: 0,\n          gramPrice: 0,\n          grams: 0,\n          purity: 'fine',\n          timer: null,\n          data: {}\n        },\n        platinum: {\n          price: 0,\n          gramPrice: 0,\n          grams: 0,\n          timer: null,\n          data: {}\n        },\n        palladium: {\n          price: 0,\n          gramPrice: 0,\n          grams: 0,\n          timer: null,\n          data: {}\n        }\n      },\n      message: ''\n    };\n  },\n  computed: {\n    goldGramValue: function goldGramValue() {\n      var ggv = numbro.unformat(this.metals.gold.gramPrice) * numbro.unformat(this.metals.gold.grams ? this.metals.gold.grams : 0) * this.metals.gold.selectedKarat.value;\n      return this.formatCurrency(ggv);\n    },\n    goldGramValueDayTrend: function goldGramValueDayTrend() {\n      var prediction = 0;\n\n      if (this.metals.gold.data.length > 0) {\n        var dayCount = 30; //Take the dayCount number of items, put them in an array adding an Identifier starting at 1\n\n        var data = _toConsumableArray(this.metals.gold.data.slice(0, dayCount)).reverse().map(function (i, index) {\n          return [index + 1, i[1]];\n        }); //console.log(data);\n\n\n        var r = regression.linear(data);\n        console.log(r);\n        prediction = r.predict(dayCount + 7)[1];\n        console.log(prediction);\n        prediction = numbro(prediction / 31.1).formatCurrency({\n          mantissa: 2\n        });\n      } //console.log(prediction);\n\n\n      return prediction;\n    },\n    silverGramValue: function silverGramValue() {\n      var purityValue = 1;\n\n      if (this.metals.silver.purity == 'sterling') {\n        purityValue = 0.925;\n      }\n\n      var sgv = numbro.unformat(this.metals.silver.gramPrice) * numbro.unformat(this.metals.silver.grams ? this.metals.silver.grams : 0) * purityValue;\n      return this.formatCurrency(sgv);\n    },\n    platiumGramValue: function platiumGramValue() {\n      var pgv = numbro.unformat(this.metals.platinum.gramPrice) * numbro.unformat(this.metals.platinum.grams ? this.metals.platinum.grams : 0);\n      return this.formatCurrency(pgv);\n    },\n    palladiumGramValue: function palladiumGramValue() {\n      var ppgv = numbro.unformat(this.metals.palladium.gramPrice) * numbro.unformat(this.metals.palladium.grams ? this.metals.palladium.grams : 0);\n      return this.formatCurrency(ppgv);\n    }\n  },\n  watch: {\n    'metals.gold.price': function metalsGoldPrice(newVal, oldVal) {\n      var vm = this; //TODO Switch isActive flag so red appears only on price change\n      //alert(`yes, computed property changed from ${newVal} to ${oldVal}`);\n\n      if (newVal > oldVal) {\n        vm._data.metals.gold.isActive = true;\n      } else {\n        vm._data.metals.gold.isActive = false;\n      }\n\n      return vm;\n    }\n  },\n  methods: {\n    cancelmetal: function cancelmetal() {\n      this.message = '';\n    },\n    clearkarat: function clearkarat() {\n      this.metals.gold.selectedKarat = 1;\n    },\n    savemetal: function savemetal() {\n      // This only updates when you click the save button\n      this.message = JSON.stringify(this.metals, null, '\\n ');\n    },\n    formatCurrency: function formatCurrency(val) {\n      return numbro(val).formatCurrency({\n        thousandSeparated: true,\n        mantissa: 2\n      });\n    },\n    goldTimer: function goldTimer() {\n      if (Math.floor(Math.random() * 10) >= 4) {\n        this.updateGoldValue(this.metals.gold.price + 0.314);\n      } else {\n        this.updateGoldValue(this.metals.gold.price - 0.314);\n      }\n    },\n    updateGoldValue: function updateGoldValue(goldPrice) {\n      this.metals.gold.price = goldPrice;\n      this.metals.gold.gramPrice = numbro(goldPrice / 31.1).formatCurrency({\n        mantissa: 2\n      }); //console.log(goldPrice);\n    },\n    silverTimer: function silverTimer() {\n      if (Math.floor(Math.random() * 10) >= 4) {\n        this.updateSilverValue(this.metals.silver.price + 0.01);\n      } else {\n        this.updateSilverValue(this.metals.silver.price - 0.01);\n      }\n    },\n    updateSilverValue: function updateSilverValue(silverPrice) {\n      this.metals.silver.price = silverPrice;\n      this.metals.silver.gramPrice = numbro(silverPrice / 31.1).formatCurrency({\n        mantissa: 2\n      }); //console.log(silverPrice);\n    },\n    updatePlantinumValue: function updatePlantinumValue(platinumPrice) {\n      this.metals.platinum.price = platinumPrice;\n      this.metals.platinum.gramPrice = numbro(platinumPrice / 31.1).formatCurrency({\n        mantissa: 2\n      }); //console.log(platinumPrice);\n    },\n    updatePalladiumValue: function updatePalladiumValue(palladiumPrice) {\n      this.metals.palladium.price = palladiumPrice;\n      this.metals.palladium.gramPrice = numbro(palladiumPrice / 31.1).formatCurrency({\n        mantissa: 2\n      });\n      console.log(palladiumPrice);\n    }\n  },\n  created: function created() {\n    var _this = this;\n\n    axios.get('https://www.quandl.com/api/v3/datasets/LBMA/GOLD.json?api_key=onMsLhc34xCSgUj-sj2q').then(function (response) {\n      _this.metals.gold.data = response.data.dataset.data;\n\n      _this.updateGoldValue(response.data.dataset.data[0][1]); //if (!this.metals.gold.timer) {\n      //this.metals.gold.timer = setInterval(this.goldTimer,3000)\n      //}\n\n    });\n    axios.get('https://www.quandl.com/api/v3/datasets/LBMA/SILVER.json?api_key=onMsLhc34xCSgUj-sj2q').then(function (response) {\n      _this.metals.silver.data = response.data;\n\n      _this.updateSilverValue(response.data.dataset.data[0][1]); //if (!this.metals.silver.timer) {\n      //this.metals.silver.timer = setInterval(this.silverTimer,3000);\n      //}\n\n    });\n    axios.get('https://www.quandl.com/api/v3/datasets/LPPM/PLAT?start_date=2020-03-11&end_date=2020-03-11&api_key=onMsLhc34xCSgUj-sj2q', {\n      headers: {\n        accept: 'application/json'\n      }\n    }).then(function (response) {\n      _this.metals.platinum.data = response.data.dataset.data;\n\n      _this.updatePlantinumValue(response.data.dataset.data[0][1]); //console.log(this.metals.platinum.gramPrice);\n\n    });\n    axios.get('https://www.quandl.com/api/v3/datasets/LPPM/PALL?start_date=2020-03-11&end_date=2020-03-11&api_key=onMsLhc34xCSgUj-sj2q', {\n      headers: {\n        accept: 'application/json'\n      }\n    }).then(function (response) {\n      _this.metals.palladium.data = response.data.dataset.data;\n\n      _this.updatePalladiumValue(response.data.dataset.data[0][1]);\n\n      console.log(_this.metals.palladium.gramPrice);\n    });\n  }\n};",{"version":3,"sources":["metalcalculator.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"content-container\">\n    <div class=\"section content-title-group\">\n      <h2 class=\"title\">Cambone Metal Calculator</h2>\n    </div>\n    <marquee behavior=\"scroll\" direction=\"left\" class=\"marquee\" id=\"marquee\"\n      >Gold Price Per Ounce\n      <span :class=\"[metals.gold.isActive ? 'metalUp' : '']\">{{\n        formatCurrency(metals.gold.price)\n      }}</span>\n      Silver Price Per Ounce {{ formatCurrency(metals.silver.price) }} Platinum\n      Price Per Ounce {{ formatCurrency(metals.platinum.price) }} Palladium\n      Price Per Ounce {{ formatCurrency(metals.palladium.price) }}\n    </marquee>\n    <div class=\"section content-title-group\"></div>\n    <div class=\"columns\">\n      <div class=\"column is-8\">\n        <div class=\"card edit-detail\">\n          <header class=\"card-header\">\n            <p class=\"card-header-title\"></p>\n          </header>\n          <div class=\"card-content\">\n            <div class=\"content\">\n              <p class=\"name\">Gold</p>\n              <div class=\"columns\">\n                <div class=\"column is-3\">\n                  <label class=\"label\" for=\"goldGramPrice\">\n                    Price Per Gram</label\n                  >\n                  <input\n                    class=\"input\"\n                    id=\"goldGramPrice\"\n                    v-model=\"metals.gold.gramPrice\"\n                  />\n                </div>\n                <div class=\"column is-3\">\n                  <label class=\"label\" for=\"goldGrams\">Number of Grams</label>\n                  <input class=\"input\" id=\"\" v-model=\"metals.gold.grams\" />\n                </div>\n                <div class=\"column is-2\">\n                  <label class=\"label\">Karat </label>\n                  <div class=\"control\">\n                    <div class=\"select\">\n                      <select\n                        v-model=\"metals.gold.selectedKarat\"\n                        @keyup.esc=\"clearkarat\"\n                      >\n                        <option\n                          v-for=\"(karat, index) in metals.gold.karats\"\n                          :key=\"index\"\n                          :value=\"karat\"\n                          >{{ karat.name }}</option\n                        >\n                      </select>\n                    </div>\n                  </div>\n                </div>\n                <div class=\"column is-4\">\n                  <label class=\"label\" for=\"goldGramValue\">Value</label>\n                  <label class=\"input\" id=\"goldGramValue\" readonly>{{\n                    goldGramValue\n                  }}</label>\n                </div>\n              </div>\n              <label class=\"label\" for=\"goldGramValueDayTrend\"\n                >1 Week Projected Gram Price</label\n              >\n              <label class=\"input\" id=\"goldGramValueDayTrend\" readonly>{{\n                goldGramValueDayTrend\n              }}</label>\n            </div>\n            <br />\n            <p class=\"name\">Silver</p>\n            <div class=\"columns\">\n              <div class=\"column is-3\">\n                <label class=\"label\" for=\"silverGramPrice\">\n                  Price Per Gram</label\n                >\n                <input\n                  class=\"input\"\n                  id=\"silverGramPrice\"\n                  v-model=\"metals.silver.gramPrice\"\n                />\n              </div>\n              <div class=\"column is-3\">\n                <label class=\"label\" for=\"silverGrams\">Number of Grams</label>\n                <input\n                  class=\"input\"\n                  id=\"silverGrams\"\n                  v-model=\"metals.silver.grams\"\n                />\n              </div>\n              <div class=\"column is-2\">\n                <label class=\"label\">Purity</label>\n                <div class=\"control\">\n                  <label class=\"radio\" for=\"fine\">\n                    <input\n                      type=\"radio\"\n                      id=\"fine\"\n                      value=\"fine\"\n                      v-model=\"metals.silver.purity\"\n                    />\n                    Fine\n                  </label>\n                  <label class=\"radio\">\n                    <input\n                      type=\"radio\"\n                      id=\"sterling\"\n                      value=\"sterling\"\n                      v-model=\"metals.silver.purity\"\n                    />\n                    Sterling\n                  </label>\n                </div>\n              </div>\n              <div class=\"column is-4\">\n                <label class=\"label\" for=\"silverGramValue\">Value</label>\n                <label class=\"input\" id=\"silverGramValue\" readonly>{{\n                  silverGramValue\n                }}</label>\n              </div>\n            </div>\n            <p class=\"name\">Platinum</p>\n            <div class=\"columns\">\n              <div class=\"column is-3\">\n                <label class=\"label\" for=\"platinumGramPrice\">\n                  Price Per Gram</label\n                >\n                <input\n                  class=\"input\"\n                  id=\"platinumGramPrice\"\n                  v-model=\"metals.platinum.gramPrice\"\n                />\n              </div>\n              <div class=\"column is-3\">\n                <label class=\"label\" for=\"platinumGrams\">Number of Grams</label>\n                <input\n                  class=\"input\"\n                  id=\"platinumGrams\"\n                  v-model=\"metals.platinum.grams\"\n                />\n              </div>\n              <div class=\"column is-6\">\n                <label class=\"label\" for=\"platinumGramValue\">Value</label>\n                <label class=\"input\" id=\"platinumGramValue\" readonly>{{\n                  platiumGramValue\n                }}</label>\n              </div>\n            </div>\n            <p class=\"name\">Palladium</p>\n            <div class=\"columns\">\n              <div class=\"column is-3\">\n                <label class=\"label\" for=\"palladiumGramPrice\">\n                  Price Per Gram</label\n                >\n                <input\n                  class=\"input\"\n                  id=\"palladiumGramPrice\"\n                  v-model=\"metals.palladium.gramPrice\"\n                />\n              </div>\n              <div class=\"column is-3\">\n                <label class=\"label\" for=\"palladiumGrams\"\n                  >Number of Grams</label\n                >\n                <input\n                  class=\"input\"\n                  id=\"palladiumGrams\"\n                  v-model=\"metals.palladium.grams\"\n                />\n              </div>\n              <div class=\"column is-6\">\n                <label class=\"label\" for=\"palladiumGramValue\">Value</label>\n                <label class=\"input\" id=\"palladiumGramValue\" readonly>{{\n                  palladiumGramValue\n                }}</label>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\n//import numbro from 'numbro';\nvar numbro = require('numbro');\nimport regression from 'regression';\n\nexport default {\n  name: 'metalCalculator',\n  data() {\n    return {\n      formName: 'Calculator',\n      metals: {\n        gold: {\n          price: 0,\n          gramPrice: 0,\n          grams: 0,\n          selectedKarat: { name: '24K', value: 1 },\n          karats: [\n            { name: '24K', value: 1 },\n            { name: '22K', value: 0.917 },\n            { name: '18K', value: 0.75 },\n            { name: '14K', value: 0.583 },\n            { name: '10K', value: 0.417 },\n            { name: '8K', value: 0.2 },\n          ],\n          isActive: true,\n          timer: null,\n          data: [],\n        },\n        silver: {\n          price: 0,\n          gramPrice: 0,\n          grams: 0,\n          purity: 'fine',\n          timer: null,\n          data: {},\n        },\n        platinum: {\n          price: 0,\n          gramPrice: 0,\n          grams: 0,\n          timer: null,\n          data: {},\n        },\n        palladium: {\n          price: 0,\n          gramPrice: 0,\n          grams: 0,\n          timer: null,\n          data: {},\n        },\n      },\n      message: '',\n    };\n  },\n  computed: {\n    goldGramValue() {\n      let ggv =\n        numbro.unformat(this.metals.gold.gramPrice) *\n        numbro.unformat(this.metals.gold.grams ? this.metals.gold.grams : 0) *\n        this.metals.gold.selectedKarat.value;\n      return this.formatCurrency(ggv);\n    },\n    goldGramValueDayTrend() {\n      let prediction = 0;\n      if (this.metals.gold.data.length > 0) {\n        let dayCount = 30;\n        //Take the dayCount number of items, put them in an array adding an Identifier starting at 1\n        let data = [...this.metals.gold.data.slice(0, dayCount)]\n          .reverse()\n          .map((i, index) => [index + 1, i[1]]);\n        //console.log(data);\n        let r = regression.linear(data);\n        console.log(r);\n        prediction = r.predict(dayCount + 7)[1];\n        console.log(prediction);\n        prediction = numbro(prediction / 31.1).formatCurrency({ mantissa: 2 });\n      }\n      //console.log(prediction);\n      return prediction;\n    },\n    silverGramValue() {\n      let purityValue = 1;\n      if (this.metals.silver.purity == 'sterling') {\n        purityValue = 0.925;\n      }\n\n      let sgv =\n        numbro.unformat(this.metals.silver.gramPrice) *\n        numbro.unformat(\n          this.metals.silver.grams ? this.metals.silver.grams : 0\n        ) *\n        purityValue;\n      return this.formatCurrency(sgv);\n    },\n    platiumGramValue() {\n      let pgv =\n        numbro.unformat(this.metals.platinum.gramPrice) *\n        numbro.unformat(\n          this.metals.platinum.grams ? this.metals.platinum.grams : 0\n        );\n      return this.formatCurrency(pgv);\n    },\n    palladiumGramValue() {\n      let ppgv =\n        numbro.unformat(this.metals.palladium.gramPrice) *\n        numbro.unformat(\n          this.metals.palladium.grams ? this.metals.palladium.grams : 0\n        );\n      return this.formatCurrency(ppgv);\n    },\n  },\n\n  watch: {\n    'metals.gold.price'(newVal, oldVal) {\n      let vm = this;\n      //TODO Switch isActive flag so red appears only on price change\n      //alert(`yes, computed property changed from ${newVal} to ${oldVal}`);\n      if (newVal > oldVal) {\n        vm._data.metals.gold.isActive = true;\n      } else {\n        vm._data.metals.gold.isActive = false;\n      }\n      return vm;\n    },\n  },\n\n  methods: {\n    cancelmetal() {\n      this.message = '';\n    },\n    clearkarat() {\n      this.metals.gold.selectedKarat = 1;\n    },\n    savemetal() {\n      // This only updates when you click the save button\n      this.message = JSON.stringify(this.metals, null, '\\n ');\n    },\n    formatCurrency(val) {\n      return numbro(val).formatCurrency({\n        thousandSeparated: true,\n        mantissa: 2,\n      });\n    },\n    goldTimer() {\n      if (Math.floor(Math.random() * 10) >= 4) {\n        this.updateGoldValue(this.metals.gold.price + 0.314);\n      } else {\n        this.updateGoldValue(this.metals.gold.price - 0.314);\n      }\n    },\n    updateGoldValue(goldPrice) {\n      this.metals.gold.price = goldPrice;\n      this.metals.gold.gramPrice = numbro(goldPrice / 31.1).formatCurrency({\n        mantissa: 2,\n      });\n      //console.log(goldPrice);\n    },\n    silverTimer() {\n      if (Math.floor(Math.random() * 10) >= 4) {\n        this.updateSilverValue(this.metals.silver.price + 0.01);\n      } else {\n        this.updateSilverValue(this.metals.silver.price - 0.01);\n      }\n    },\n    updateSilverValue(silverPrice) {\n      this.metals.silver.price = silverPrice;\n      this.metals.silver.gramPrice = numbro(silverPrice / 31.1).formatCurrency({\n        mantissa: 2,\n      });\n      //console.log(silverPrice);\n    },\n    updatePlantinumValue(platinumPrice) {\n      this.metals.platinum.price = platinumPrice;\n      this.metals.platinum.gramPrice = numbro(\n        platinumPrice / 31.1\n      ).formatCurrency({ mantissa: 2 });\n      //console.log(platinumPrice);\n    },\n    updatePalladiumValue(palladiumPrice) {\n      this.metals.palladium.price = palladiumPrice;\n      this.metals.palladium.gramPrice = numbro(\n        palladiumPrice / 31.1\n      ).formatCurrency({ mantissa: 2 });\n      console.log(palladiumPrice);\n    },\n  },\n\n  created() {\n    axios\n      .get(\n        'https://www.quandl.com/api/v3/datasets/LBMA/GOLD.json?api_key=onMsLhc34xCSgUj-sj2q'\n      )\n      .then(response => {\n        this.metals.gold.data = response.data.dataset.data;\n        this.updateGoldValue(response.data.dataset.data[0][1]);\n        //if (!this.metals.gold.timer) {\n        //this.metals.gold.timer = setInterval(this.goldTimer,3000)\n        //}\n      });\n\n    axios\n      .get(\n        'https://www.quandl.com/api/v3/datasets/LBMA/SILVER.json?api_key=onMsLhc34xCSgUj-sj2q'\n      )\n      .then(response => {\n        this.metals.silver.data = response.data;\n        this.updateSilverValue(response.data.dataset.data[0][1]);\n        //if (!this.metals.silver.timer) {\n        //this.metals.silver.timer = setInterval(this.silverTimer,3000);\n\n        //}\n      });\n\n    axios\n      .get(\n        'https://www.quandl.com/api/v3/datasets/LPPM/PLAT?start_date=2020-03-11&end_date=2020-03-11&api_key=onMsLhc34xCSgUj-sj2q',\n        { headers: { accept: 'application/json' } }\n      )\n      .then(response => {\n        this.metals.platinum.data = response.data.dataset.data;\n        this.updatePlantinumValue(response.data.dataset.data[0][1]);\n        //console.log(this.metals.platinum.gramPrice);\n      });\n\n    axios\n      .get(\n        'https://www.quandl.com/api/v3/datasets/LPPM/PALL?start_date=2020-03-11&end_date=2020-03-11&api_key=onMsLhc34xCSgUj-sj2q',\n        { headers: { accept: 'application/json' } }\n      )\n      .then(response => {\n        this.metals.palladium.data = response.data.dataset.data;\n        this.updatePalladiumValue(response.data.dataset.data[0][1]);\n        console.log(this.metals.palladium.gramPrice);\n      });\n  },\n};\n</script>\n"],"sourceRoot":"src/views"}]}